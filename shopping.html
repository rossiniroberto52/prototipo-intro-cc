<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>FlexCar - Finalizar Aluguel</title>
    <link rel = "stylesheet" type="text/css" href="style-shopping.css" media="screen"/>
</head>
<body>
    <div id="login_or_register">
        <button onclick="window.location.href='login.html'">Login</button>
        <button onclick="window.location.href='register.html'">Registrar</button>
    </div>

    <div class="rental-container">
        <!-- Seção de detalhes do carro -->
        <div class="car-details">
            <h2 id="car-model">Ford Mustang GT</h2>
            <img src="carro1.png" alt="Carro selecionado" class="selected-car-image">
            <div class="price-summary">
                <h3>Resumo do Aluguel</h3>
                <p>Diária: <span id="daily-price">R$ 450</span></p>
                <p>Total (5 dias): <span id="total-price">R$ 2.250</span></p>
            </div>
        </div>

        <!-- Formulário de aluguel -->
        <form class="rental-form" id="rentalForm">
            <div class="form-group">
                <label for="rental-date">Data de Retirada:</label>
                <input type="date" id="rental-date" required>
            </div>

            <div class="form-group">
                <label for="return-date">Data de Devolução:</label>
                <input type="date" id="return-date" required>
            </div>

            <div class="form-group">
                <label for="payment-method">Forma de Pagamento:</label>
                <select id="payment-method" required>
                    <option value="">Selecione...</option>
                    <option value="credit">Cartão de Crédito</option>
                    <option value="debit">Cartão de Débito</option>
                    <option value="pix">PIX</option>
                </select>
            </div>

            <div class="form-group">
                <label for="card-number">Número do Cartão:</label>
                <input type="text" id="card-number" placeholder="0000 0000 0000 0000" required>
            </div>

            <button type="submit" class="confirm-button">Confirmar Aluguel</button>
        </form>
    </div>

    <script>
        // Recupera o carro selecionado
        const selectedCarId = localStorage.getItem('selectedCar');
        
        // Simulação de dados (substituir por dados reais)
        const cars = {
            'mustang-gt': {
                model: 'Ford Mustang GT',
                image: 'carro1.png',
                dailyPrice: 450,
                details: '5.0L V8, 4 lugares'
            },
            'jeep-compass': {
                model: 'Jeep Compass',
                image: 'carro2.png',
                dailyPrice: 280,
                details: '2.0 Turbo, 5 lugares'
            },
            'chevrolet-impala':{
                model: 'Chevrolet Impala',
                image: 'carro3.png',
                dailyPrice: 420,
                details: '2.8 Motor AP, Gasolina'
            }
        };

        // Atualiza a página com os dados do carro
        if(selectedCarId && cars[selectedCarId]) {
            const car = cars[selectedCarId];
            document.getElementById('car-model').textContent = car.model;
            document.querySelector('.selected-car-image').src = car.image;
            document.getElementById('daily-price').textContent = `R$ ${car.dailyPrice}`;
            
            // Cálculo automático do total (exemplo para 5 dias)
            const total = car.dailyPrice * 5;
            document.getElementById('total-price').textContent = `R$ ${total}`;
        }

        // Validação do formulário
        document.getElementById('rentalForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Validação básica
            if(document.getElementById('payment-method').value === '') {
                alert('Por favor, selecione uma forma de pagamento!');
                return;
            }

            // Redirecionar para confirmação
            window.location.href = 'confirmacao.html';
        });
    </script>
</body>
</html>